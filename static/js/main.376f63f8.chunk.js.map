{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","App.module.css","components/Searchbar/Searchbar.jsx","api/api.jsx","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","App.jsx","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","s","SearchForm","this","type","SearchFormButton","SearchFormInput","onChange","autoComplete","autoFocus","placeholder","Component","apiImages","api","currentPage","axios","get","then","response","data","total","Promise","reject","Error","hits","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","onClick","src","img","alt","ImageGalleryItem","showModal","onImgClick","images","map","image","ImageGalleryItemImage","webformatURL","largeImageURL","id","Button","propTypes","PropTypes","array","func","ImageGallery","length","Loaderr","color","height","width","timeout","Status","App","status","fetchImages","options","prevState","catch","error","handleFormSubmit","loadMore","prevProps","prevName","nextName","Box","Loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.376f63f8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1srh5\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1ee8b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1Fd-I\",\"Modal\":\"Modal_Modal__1IGZI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__12gos\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button___cndR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__nqqLC\",\"Box\":\"App_Box__2ujjt\"};","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Searchbar.module.css';\r\n\r\nexport class Searchbar extends Component {\r\n  state = { query: '' };\r\n\r\n  handleChange = e => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchFormButton}></button>\r\n\r\n          <input\r\n            className={s.SearchFormInput}\r\n            value={this.state.query}\r\n            onChange={this.handleChange}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default Searchbar;\r\n","import axios from 'axios';\r\n\r\nconst API_KEY = '24403167-bc8633b03f504153a86662e6a';\r\nconst BASE_URL = 'https://pixabay.com/api';\r\n\r\nconst api = ({ query = '', currentPage = 1 }) => {\r\n  return axios\r\n    .get(\r\n      `${BASE_URL}/?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&page=${currentPage}&per_page=12`,\r\n    )\r\n    .then(response => {\r\n      if (response.data.total === 0) {\r\n        return Promise.reject(new Error());\r\n      } else {\r\n        return response.data.hits;\r\n      }\r\n    });\r\n};\r\nconst apiImages = {\r\n  api,\r\n};\r\n\r\nexport default apiImages;\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.Modal}>\r\n          <img src={this.props.img} alt=\"Item\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func,\r\n  img: PropTypes.string,\r\n};\r\n\r\nexport default Modal;\r\n","import s from './ImageGalleryItem.module.css';\r\nimport Modal from '../Modal/Modal';\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport class ImageGalleryItem extends Component {\r\n  state = {\r\n    showModal: false,\r\n    src: '',\r\n  };\r\n\r\n  onImgClick = src => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n      src,\r\n    }));\r\n  };\r\n\r\n  onClose = () => {\r\n    this.setState({ showModal: false, src: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.images.map(image => (\r\n          <li key={image.id} className={s.ImageGalleryItem}>\r\n            <img\r\n              className={s.ImageGalleryItemImage}\r\n              src={image.webformatURL}\r\n              alt=\"Item\"\r\n              onClick={() => this.onImgClick(image.largeImageURL)}\r\n            />\r\n          </li>\r\n        ))}\r\n        {this.state.showModal && (\r\n          <Modal onClose={this.onClose} img={this.state.src} />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number,\r\n      ImageGalleryItem: PropTypes.string,\r\n    }),\r\n  ),\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import s from './Button.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button onClick={onClick} className={s.Button} type=\"button\">\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default Button;\r\n","import s from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport Button from '../Button/Button';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({ images, onClick }) => {\r\n  return (\r\n    <>\r\n      <ul className={s.ImageGallery}>\r\n        <ImageGalleryItem images={images} />\r\n      </ul>\r\n      <div>{images.length > 0 && <Button onClick={onClick} />}</div>\r\n    </>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  images: PropTypes.array,\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import Loader from 'react-loader-spinner';\r\n\r\nconst Loaderr = () => {\r\n  return (\r\n    <Loader\r\n      type=\"Circles\"\r\n      color=\"#00BFFF\"\r\n      height={100}\r\n      width={100}\r\n      timeout={3000}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Loaderr;\r\n","import React, { Component } from 'react';\r\nimport Searchbar from './components/Searchbar/Searchbar';\r\nimport apiImages from './api/api';\r\nimport ImageGallery from './components/ImageGallery/ImageGallery';\r\nimport Loaderr from './components/Loader/Loader';\r\nimport s from './App.module.css';\r\n\r\nconst Status = {\r\n  IDLE: 'idle',\r\n  PENDING: 'pending',\r\n  RESOLVED: 'resolved',\r\n  REJECTED: 'rejected',\r\n};\r\n\r\nexport class App extends Component {\r\n  state = {\r\n    images: [],\r\n    status: Status.IDLE,\r\n    query: '',\r\n    currentPage: 1,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevName = prevState.query;\r\n    const nextName = this.state.query;\r\n\r\n    if (prevName !== nextName) {\r\n      this.setState({ status: Status.PENDING });\r\n      if (nextName.length > 0) {\r\n        this.fetchImages();\r\n      } else {\r\n        this.setState({ status: Status.REJECTED });\r\n      }\r\n    }\r\n  }\r\n\r\n  fetchImages = () => {\r\n    const { currentPage, query } = this.state;\r\n    const options = { query, currentPage };\r\n    apiImages\r\n      .api(options)\r\n      .then(images => {\r\n        this.setState(prevState => ({\r\n          images: [...prevState.images, ...images],\r\n          currentPage: prevState.currentPage + 1,\r\n          status: Status.RESOLVED,\r\n        }));\r\n      })\r\n      .catch(error => this.setState({ status: Status.REJECTED }));\r\n  };\r\n  handleFormSubmit = query => {\r\n    this.setState({ query, currentPage: 1, images: [] });\r\n  };\r\n\r\n  loadMore = () => {\r\n    this.fetchImages();\r\n  };\r\n\r\n  render() {\r\n    const { status, images } = this.state;\r\n    return (\r\n      <div>\r\n        <Searchbar onSubmit={this.handleFormSubmit} />\r\n        {status === Status.REJECTED && <h1>Please enter a valid name!</h1>}\r\n        {status === Status.PENDING && (\r\n          <div className={s.Box}>\r\n            <Loaderr />\r\n          </div>\r\n        )}\r\n        {status === Status.RESOLVED && (\r\n          <ImageGallery images={images} onClick={this.loadMore} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__Ujy0k\",\"SearchForm\":\"Searchbar_SearchForm__2L5-e\",\"SearchFormButton\":\"Searchbar_SearchFormButton__26mtU\",\"SearchFormButton-label\":\"Searchbar_SearchFormButton-label__1nFKO\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1hPN0\"};"],"sourceRoot":""}